{% extends "base.html" %}

{% block title %}Detalle del Componente{% endblock %}

{% block content %}
<div class="detail-container">
    <div class="card detail-card">
        <div class="page-header-detail">
            <h2>Detalles del Componente: <span class="accent-text">{{ component.name }}</span></h2>
        </div>
        
        <div class="details-grid"> 
            <div class="detail-group">
                <p><strong>ID de Inventario:</strong> {{ component.id }}</p>
                <p><strong>Nombre del Modelo:</strong> <span class="data-value">{{ component.name }}</span></p>
                <p><strong>Fabricante:</strong> <span class="data-value">{{ component.brand }}</span></p>
                <p><strong>Categor√≠a:</strong> <span class="badge {{ component.kind | lower }}">{{ component.kind }}</span></p>

            </div>
            
            <div class="detail-group price-box">
                <p class="price-label">Precio Unitario:</p>
                <p class="price-detail"><span>${{ component.price }}</span></p>
                <p class="text-muted"><small>Precio de lista sin impuestos.</small></p>
            </div>
        </div>

        <hr class="divider">

        <div class="assigned-builds-section">
            <h3 class="list-title" style="text-align: left;">Usado en Builds:</h3>
            {% if component.builds %}
                <ul class="clean-list build-list-compact">
                    {% for build in component.builds %}
                    <li>
                        <a href="/builds/{{ build.id }}" class="build-link">{{ build.name }}</a>
                        <span class="text-muted">ID: {{ build.id }}</span>
                    </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-muted no-data-message"><em>No est√° asignado a ninguna Build.</em></p>
            {% endif %}
        </div>
        
        <hr class="divider">

        <h3 class="list-title" style="text-align: left;">Acciones de Inventario:</h3>
        <div class="actions-group-buttons">
            <a href="/components/{{ component.id }}/assign" class="btn-success">
                Asignar a una Build
            </a>
            
            <form action="/components/{{ component.id }}/delete" method="post" style="display:inline;">
                <button type="submit" class="btn-danger"
                    onclick="return confirm('¬øSeguro que quieres eliminar este componente?')">
                    üóëÔ∏è Eliminar Componente
                </button>
            </form>
        </div>

        <div class="back-link">
            <a href="/components" class="btn-link">‚Üê Volver a Componentes</a>
        </div>
    </div>
</div>
{% endblock %}