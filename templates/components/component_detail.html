{% extends "base.html" %}

{% block title %}Detalle del Componente{% endblock %}

{% block content %}
<div class="detail-container">
    <div class="card detail-card">
        <div class="page-header-detail">
            <h2>Detalles del Componente: <span class="accent-text">{{ component.name }}</span></h2>
        </div>
        
        <div class="details-grid"> 
            <div class="detail-group">
                <p><strong>ID de Inventario:</strong> {{ component.id }}</p>
                <p><strong>Nombre del Modelo:</strong> <span class="data-value">{{ component.name }}</span></p>
                <p><strong>Fabricante:</strong> <span class="data-value">{{ component.brand }}</span></p>
                <p><strong>Categor√≠a:</strong> <span class="badge {{ component.kind | lower }}">{{ component.kind }}</span></p>
                <p class="text-muted"><strong>Stock Disponible:</strong> <span class="data-value">9 unidades</span></p>
            </div>
            
            <div class="detail-group price-box">
                <p class="price-label">Precio Unitario:</p>
                <p class="price-detail"><span>${{ component.price }}</span></p>
                <p class="text-muted"><small>Precio de lista sin impuestos.</small></p>
            </div>
        </div>

        <hr class="divider">

        <div class="specs-section">
            <h3 class="list-title" style="margin-top: 0; text-align: left;">Especificaciones T√©cnicas</h3>
            
            <div class="specs-grid">
                
                {% if component.kind == 'CPU' %}
                    <div class="spec-item"><strong>Socket:</strong> <span>{{ component.specs.socket or 'AM5 / LGA 1700' }}</span></div>
                    <div class="spec-item"><strong>N√∫cleos / Hilos:</strong> <span>{{ component.specs.cores or '8 N√∫cleos / 16 Hilos' }}</span></div>
                    <div class="spec-item"><strong>Frecuencia Base:</strong> <span>{{ component.specs.base_clock or '3.5 GHz' }}</span></div>
                    <div class="spec-item"><strong>Frecuencia Boost:</strong> <span>{{ component.specs.boost_clock or '5.0 GHz' }}</span></div>
                    <div class="spec-item"><strong>TDP (Potencia):</strong> <span>{{ component.specs.tdp or '125W' }}</span></div>
                    <div class="spec-item"><strong>Litograf√≠a:</strong> <span>{{ component.specs.lithography or '5nm' }}</span></div>
                    <div class="spec-item full-width-spec">
                        <strong>Descripci√≥n:</strong> 
                        <span>Procesador de alto rendimiento ideal para gaming y tareas de edici√≥n profesional intensivas.</span>
                    </div>

                {% elif component.kind == 'GPU' %}
                    <div class="spec-item"><strong>VRAM:</strong> <span>{{ component.specs.vram or '16 GB GDDR6X' }}</span></div>
                    <div class="spec-item"><strong>Interfaz:</strong> <span>{{ component.specs.interface or 'PCI Express 4.0 x16' }}</span></div>
                    <div class="spec-item"><strong>Frecuencia Boost:</strong> <span>{{ component.specs.boost_clock or '2520 MHz' }}</span></div>
                    <div class="spec-item"><strong>Salidas:</strong> <span>{{ component.specs.outputs or '3x DisplayPort 1.4, 1x HDMI 2.1' }}</span></div>
                    <div class="spec-item"><strong>Fuente Recomendada:</strong> <span>{{ component.specs.psu_recommended or '750W' }}</span></div>
                    <div class="spec-item"><strong>Ray Tracing:</strong> <span>S√≠ (3ra Gen)</span></div>
                    <div class="spec-item full-width-spec">
                        <strong>Descripci√≥n:</strong> 
                        <span>Tarjeta gr√°fica de gama alta dise√±ada para juegos 4K y renderizado en tiempo real.</span>
                    </div>

                {% elif component.kind == 'RAM' %}
                    <div class="spec-item"><strong>Capacidad Total:</strong> <span>{{ component.specs.capacity or '32 GB (2x16GB)' }}</span></div>
                    <div class="spec-item"><strong>Tipo:</strong> <span>{{ component.specs.type or 'DDR5' }}</span></div>
                    <div class="spec-item"><strong>Velocidad:</strong> <span>{{ component.specs.speed or '6000 MHz' }}</span></div>
                    <div class="spec-item"><strong>Latencia (CL):</strong> <span>{{ component.specs.latency or 'CL30' }}</span></div>
                    <div class="spec-item"><strong>Voltaje:</strong> <span>{{ component.specs.voltage or '1.35V' }}</span></div>
                    <div class="spec-item"><strong>RGB:</strong> <span>S√≠, con sincronizaci√≥n.</span></div>
                    <div class="spec-item full-width-spec">
                        <strong>Descripci√≥n:</strong> 
                        <span>M√≥dulos de memoria ultra-r√°pidos optimizados para las √∫ltimas plataformas de Intel y AMD.</span>
                    </div>

                {% elif component.kind == 'Almacenamiento' %}
                    <div class="spec-item"><strong>Capacidad:</strong> <span>{{ component.specs.capacity or '2 TB' }}</span></div>
                    <div class="spec-item"><strong>Factor de Forma:</strong> <span>{{ component.specs.form_factor or 'M.2 NVMe (2280)' }}</span></div>
                    <div class="spec-item"><strong>Velocidad Lectura:</strong> <span>{{ component.specs.read_speed or '7000 MB/s' }}</span></div>
                    <div class="spec-item"><strong>Velocidad Escritura:</strong> <span>{{ component.specs.write_speed or '6000 MB/s' }}</span></div>
                    <div class="spec-item"><strong>Tipo de Celda:</strong> <span>{{ component.specs.cell_type or '3D TLC' }}</span></div>
                    <div class="spec-item full-width-spec">
                        <strong>Descripci√≥n:</strong> 
                        <span>SSD de alta velocidad PCI-E 4.0, ideal para el sistema operativo y cargar juegos de manera instant√°nea.</span>
                    </div>

                {% else %}
                    <div class="spec-item full-width-spec"><strong>Detalles:</strong> <span>No hay especificaciones detalladas disponibles para este tipo de componente.</span></div>
                {% endif %}
            </div>
        </div>
        <hr class="divider">

        <div class="assigned-builds-section">
            <h3 class="list-title" style="text-align: left;">Usado en Builds:</h3>
            {% if component.builds %}
                <ul class="clean-list build-list-compact">
                    {% for build in component.builds %}
                    <li>
                        <a href="/builds/{{ build.id }}" class="build-link">{{ build.name }}</a>
                        <span class="text-muted">ID: {{ build.id }}</span>
                    </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-muted no-data-message"><em>No est√° asignado a ninguna Build.</em></p>
            {% endif %}
        </div>
        
        <hr class="divider">

        <h3 class="list-title" style="text-align: left;">Acciones de Inventario:</h3>
        <div class="actions-group-buttons">
            <a href="/components/{{ component.id }}/assign" class="btn-success">
                Asignar a una Build
            </a>
            
            <form action="/components/{{ component.id }}/delete" method="post" style="display:inline;">
                <button type="submit" class="btn-danger"
                    onclick="return confirm('¬øSeguro que quieres eliminar este componente?')">
                    üóëÔ∏è Eliminar Componente
                </button>
            </form>
        </div>

        <div class="back-link">
            <a href="/components" class="btn-link">‚Üê Volver a Componentes</a>
        </div>
    </div>
</div>
{% endblock %}